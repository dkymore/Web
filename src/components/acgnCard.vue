<template>
  <div 
  :style="{height:(status.isExtend ? config.extendHeight : config.normalHeight) + 'px'}"
  class="card"
  >
    <div class="header" :style="{background:`url(${data.coverimg})`,backgroundRepeat:'no-repeat',backgroundSize:'cover'}">
        <video v-if="status.isPlay" :src="data.playvideo" controls autoplay class="headerVideo">
            <source src="movie.mp4" type="video/mp4">
        </video>
    </div>
    <div class="footer" @click="extendFunc" >
        <div class="introText">
            <div class="title">{{ data.name }}</div>
            <div class="text" v-html="data.intro"></div>
        </div>
        <div class="PlayButton" @click.stop="Play">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="23" viewBox="0 0 22 23" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.3762 8.2402C10.1468 7.42058 8.5 8.3019 8.5 9.77949V13.6688C8.5 15.1463 10.1468 16.0277 11.3762 15.208L14.2931 13.2634C15.3915 12.5311 15.3915 10.9171 14.2931 10.1848L11.3762 8.2402ZM10 9.77949C10 9.49995 10.3116 9.33321 10.5441 9.48827L13.4611 11.4329C13.6689 11.5714 13.6689 11.8768 13.4611 12.0153L10.5441 13.96C10.3116 14.115 10 13.9483 10 13.6688V9.77949Z" fill="white"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 0.974121C5.31294 0.974121 0.5 5.78706 0.5 11.7241C0.5 17.6612 5.31294 22.4741 11.25 22.4741C17.1871 22.4741 22 17.6612 22 11.7241C22 5.78706 17.1871 0.974121 11.25 0.974121ZM2 11.7241C2 6.61549 6.14137 2.47412 11.25 2.47412C16.3586 2.47412 20.5 6.61549 20.5 11.7241C20.5 16.8328 16.3586 20.9741 11.25 20.9741C6.14137 20.9741 2 16.8328 2 11.7241Z" fill="white"/>
            </svg>
            <div>Play</div>
        </div>
    </div>
    <div class="extend" v-if="status.isExtend">
        <div class="tagGroup">
            <div><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
<path d="M12.5796 4.28005V21.1532M12.5796 4.28005L13.6797 3.8672C16.1832 2.92773 18.976 2.92773 21.4795 3.8672C22.1439 4.11655 22.5796 4.72029 22.5796 5.39167V19.2423C22.5796 20.1642 21.5871 20.7946 20.6747 20.4522C18.6878 19.7066 16.4713 19.7066 14.4844 20.4522L12.5933 21.1619C12.5867 21.1644 12.5796 21.1598 12.5796 21.1532M12.5796 4.28005L11.4795 3.8672C8.97597 2.92773 6.18321 2.92773 3.67973 3.8672C3.01528 4.11655 2.57959 4.72029 2.57959 5.39167V19.2423C2.57959 20.1642 3.57206 20.7946 4.48444 20.4522C6.47134 19.7066 8.68784 19.7066 10.6747 20.4522L12.5659 21.1619C12.5724 21.1644 12.5796 21.1598 12.5796 21.1532" stroke="#2B3F6C" stroke-width="1.5"/>
</svg> <div>攻略</div></div>
            <div><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
<circle r="3" transform="matrix(-1 0 0 1 12.5796 12.1626)" stroke="#2B3F6C" stroke-width="1.5"/>
<path d="M17.0796 5.1001L17.4546 4.45058L17.4546 4.45058L17.0796 5.1001ZM17.0796 19.2247L16.7046 18.5752L16.7046 18.5752L17.0796 19.2247ZM8.07958 19.2247L7.70458 19.8743L7.70458 19.8743L8.07958 19.2247ZM8.07958 5.1001L8.45458 5.74962L8.07958 5.1001ZM9.50252 3.17768L8.77182 3.00861L9.50252 3.17768ZM5.89142 18.9028L5.71924 18.1728L5.89142 18.9028ZM4.98253 18.6656L5.55207 18.1776L4.98253 18.6656ZM10.1188 21.8576L10.3028 21.1305L10.1188 21.8576ZM9.50257 21.1474L10.2333 20.9784L9.50257 21.1474ZM15.6566 21.1474L14.9259 20.9784L15.6566 21.1474ZM15.0404 21.8575L15.2244 22.5846L15.0404 21.8575ZM20.1766 18.6656L19.607 18.1776L20.1766 18.6656ZM22.0232 8.86548L22.7313 8.61829L22.0232 8.86548ZM21.6731 9.84612L21.1962 9.26729L21.6731 9.84612ZM19.2675 5.4221L19.0954 4.69211L19.2675 5.4221ZM21.6731 14.4791L21.1962 15.0579L21.6731 14.4791ZM22.0232 15.4597L21.3152 15.2125L22.0232 15.4597ZM15.6567 3.17771L14.926 3.34678L15.6567 3.17771ZM14.926 3.34678C15.1518 4.32265 15.7674 5.20852 16.7046 5.74962L17.4546 4.45058C16.8923 4.12589 16.5234 3.5964 16.3874 3.00863L14.926 3.34678ZM16.7046 5.74962C17.5656 6.24667 18.5434 6.3634 19.4396 6.15208L19.0954 4.69211C18.5563 4.81923 17.9717 4.7491 17.4546 4.45058L16.7046 5.74962ZM22.7313 8.61829C22.2858 7.34196 21.6067 6.17597 20.7458 5.1713L19.6068 6.14731C20.3483 7.01263 20.9323 8.01588 21.3152 9.11268L22.7313 8.61829ZM21.3295 12.1626C21.3295 11.4632 21.6477 10.8388 22.15 10.425L21.1962 9.26729C20.3629 9.95387 19.8295 10.9963 19.8295 12.1626H21.3295ZM22.15 13.9002C21.6477 13.4864 21.3295 12.862 21.3295 12.1626H19.8295C19.8295 13.3289 20.3629 14.3713 21.1962 15.0579L22.15 13.9002ZM20.7461 19.1536C21.6068 18.149 22.2858 16.9831 22.7313 15.7069L21.3152 15.2125C20.9323 16.3092 20.3484 17.3123 19.607 18.1776L20.7461 19.1536ZM17.4546 19.8743C17.9717 19.5757 18.5563 19.5056 19.0955 19.6328L19.4399 18.1728C18.5435 17.9614 17.5656 18.0781 16.7046 18.5752L17.4546 19.8743ZM16.3873 21.3164C16.5233 20.7286 16.8922 20.199 17.4546 19.8743L16.7046 18.5752C15.7673 19.1164 15.1516 20.0024 14.9259 20.9784L16.3873 21.3164ZM12.5795 22.9126C13.4912 22.9126 14.3775 22.7989 15.2244 22.5846L14.8564 21.1305C14.1288 21.3146 13.3662 21.4126 12.5795 21.4126V22.9126ZM9.93483 22.5847C10.7817 22.7989 11.6679 22.9126 12.5795 22.9126V21.4126C11.793 21.4126 11.0303 21.3146 10.3028 21.1305L9.93483 22.5847ZM7.70458 19.8743C8.26702 20.199 8.6359 20.7286 8.77186 21.3164L10.2333 20.9784C10.0075 20.0024 9.39191 19.1164 8.45458 18.5752L7.70458 19.8743ZM6.06359 19.6328C6.6028 19.5056 7.18746 19.5757 7.70458 19.8743L8.45458 18.5752C7.59354 18.0781 6.61559 17.9614 5.71924 18.1728L6.06359 19.6328ZM2.42775 15.7069C2.87327 16.9831 3.55226 18.149 4.413 19.1536L5.55207 18.1776C4.81071 17.3124 4.22679 16.3092 3.84393 15.2125L2.42775 15.7069ZM3.82957 12.1626C3.82957 12.862 3.51138 13.4864 3.00906 13.9002L3.96289 15.0579C4.79621 14.3713 5.32957 13.3289 5.32957 12.1626H3.82957ZM3.00906 10.4249C3.51138 10.8388 3.82957 11.4632 3.82957 12.1626H5.32957C5.32957 10.9963 4.79621 9.95386 3.96289 9.26727L3.00906 10.4249ZM4.41328 5.17127C3.55241 6.17593 2.87332 7.34194 2.42775 8.61827L3.84393 9.11267C4.22683 8.01586 4.81085 7.01261 5.55232 6.14728L4.41328 5.17127ZM7.70458 4.45058C7.18751 4.74911 6.6029 4.81924 6.06373 4.6921L5.71947 6.15206C6.61576 6.36341 7.59362 6.2467 8.45458 5.74962L7.70458 4.45058ZM8.77182 3.00861C8.63582 3.59639 8.26696 4.12589 7.70458 4.45058L8.45458 5.74962C9.3918 5.20851 10.0074 4.32263 10.2332 3.34675L8.77182 3.00861ZM12.5795 1.4126C11.6678 1.4126 10.7816 1.52626 9.93474 1.74056L10.3027 3.19472C11.0303 3.01061 11.7929 2.9126 12.5795 2.9126V1.4126ZM15.2245 1.7406C14.3776 1.52627 13.4913 1.4126 12.5795 1.4126V2.9126C13.3662 2.9126 14.1289 3.01063 14.8565 3.19476L15.2245 1.7406ZM10.2332 3.34675C10.2488 3.27928 10.2753 3.23169 10.2958 3.20673C10.3134 3.18529 10.3166 3.19122 10.3027 3.19472L9.93474 1.74056C9.24354 1.91546 8.88664 2.5124 8.77182 3.00861L10.2332 3.34675ZM3.96289 9.26727C3.90201 9.21711 3.86662 9.16284 3.85242 9.12654C3.84048 9.09601 3.84927 9.09738 3.84393 9.11267L2.42775 8.61827C2.16174 9.38026 2.57389 10.0664 3.00906 10.4249L3.96289 9.26727ZM5.71924 18.1728C5.65201 18.1887 5.59774 18.1861 5.56627 18.1788C5.53922 18.1725 5.54294 18.167 5.55207 18.1776L4.413 19.1536C4.87605 19.694 5.56802 19.7497 6.06359 19.6328L5.71924 18.1728ZM10.3028 21.1305C10.3166 21.134 10.3135 21.1399 10.2959 21.1185C10.2753 21.0935 10.2489 21.0459 10.2333 20.9784L8.77186 21.3164C8.88664 21.8127 9.24355 22.4097 9.93483 22.5847L10.3028 21.1305ZM14.9259 20.9784C14.9103 21.0459 14.8838 21.0935 14.8633 21.1185C14.8457 21.1399 14.8425 21.134 14.8564 21.1305L15.2244 22.5846C15.9156 22.4097 16.2725 21.8127 16.3873 21.3164L14.9259 20.9784ZM19.607 18.1776C19.6162 18.1669 19.6199 18.1724 19.5928 18.1787C19.5614 18.1861 19.5071 18.1887 19.4399 18.1728L19.0955 19.6328C19.5911 19.7496 20.2831 19.694 20.7461 19.1536L19.607 18.1776ZM21.3152 9.11268C21.3098 9.09739 21.3186 9.09603 21.3067 9.12655C21.2925 9.16285 21.2571 9.21712 21.1962 9.26729L22.15 10.425C22.5852 10.0664 22.9973 9.38027 22.7313 8.61829L21.3152 9.11268ZM3.84393 15.2125C3.84927 15.2278 3.84048 15.2292 3.85242 15.1987C3.86662 15.1624 3.90201 15.1081 3.96289 15.0579L3.00906 13.9002C2.57389 14.2588 2.16174 14.9449 2.42775 15.7069L3.84393 15.2125ZM19.4396 6.15208C19.5069 6.13624 19.5611 6.13884 19.5926 6.14617C19.6196 6.15247 19.6159 6.15797 19.6068 6.14731L20.7458 5.1713C20.2828 4.63095 19.5909 4.57528 19.0954 4.69211L19.4396 6.15208ZM5.55232 6.14728C5.54319 6.15794 5.53947 6.15244 5.56652 6.14614C5.59798 6.13881 5.65224 6.13621 5.71947 6.15206L6.06373 4.6921C5.5682 4.57525 4.87631 4.6309 4.41328 5.17127L5.55232 6.14728ZM21.1962 15.0579C21.2571 15.1081 21.2925 15.1623 21.3067 15.1986C21.3186 15.2292 21.3098 15.2278 21.3152 15.2125L22.7313 15.7069C22.9973 14.9449 22.5852 14.2588 22.15 13.9002L21.1962 15.0579ZM16.3874 3.00863C16.2726 2.51243 15.9157 1.91551 15.2245 1.7406L14.8565 3.19476C14.8427 3.19126 14.8458 3.18533 14.8634 3.20677C14.884 3.23173 14.9104 3.27932 14.926 3.34678L16.3874 3.00863Z" fill="#2B3F6C"/>
</svg> <div>设置</div></div>
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.0938 0.969095C12.1669 -0.10566 13.9075 -0.106318 14.9814 0.967623L17.4733 3.45948C18.5381 4.52426 18.5491 6.24802 17.4981 7.32639L8.26494 16.7996C7.55941 17.5235 6.59175 17.9317 5.58132 17.9317L2.82917 17.9315C1.54992 17.9315 0.528308 16.8651 0.58211 15.586L0.700264 12.777C0.739762 11.838 1.13004 10.948 1.79388 10.2831L11.0938 0.969095ZM13.9216 2.02909C13.4334 1.54093 12.6423 1.54123 12.1545 2.02975L10.4914 3.69536L14.7712 7.97515L16.4247 6.27863C16.9024 5.78846 16.8974 5.00493 16.4134 4.52094L13.9216 2.02909ZM2.85454 11.3438L9.43153 4.75682L13.7241 9.04942L7.19155 15.7519C6.76824 16.1862 6.18764 16.4311 5.58138 16.4311L2.82923 16.431C2.40282 16.431 2.06228 16.0755 2.08021 15.6491L2.19837 12.8401C2.22207 12.2767 2.45624 11.7427 2.85454 11.3438Z" fill="#2B3F6C"/>
                    <path d="M18.0949 17.8584C18.509 17.8584 18.8446 17.5224 18.8446 17.1081C18.8446 16.6937 18.509 16.3578 18.0949 16.3578H11.9732C11.5591 16.3578 11.2235 16.6937 11.2235 17.1081C11.2235 17.5224 11.5591 17.8584 11.9732 17.8584H18.0949Z" fill="#2B3F6C"/>
                </svg>
                <div>编辑</div>
            </div>
            <div> <svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" viewBox="0 0 22 20" fill="none">
<path d="M11.0333 3.40631L11.6436 2.97038L11.6436 2.97038L11.0333 3.40631ZM10.328 2.41888L9.71771 2.85481L9.71771 2.85481L10.328 2.41888ZM19.1807 6.6626C19.1807 7.07681 19.5165 7.4126 19.9307 7.4126C20.3449 7.4126 20.6807 7.07681 20.6807 6.6626H19.1807ZM10.9307 13.9126C10.5165 13.9126 10.1807 14.2484 10.1807 14.6626C10.1807 15.0768 10.5165 15.4126 10.9307 15.4126V13.9126ZM16.9307 15.4126C17.3449 15.4126 17.6807 15.0768 17.6807 14.6626C17.6807 14.2484 17.3449 13.9126 16.9307 13.9126V15.4126ZM20.1807 9.6626V14.1626H21.6807V9.6626H20.1807ZM15.9307 18.4126H5.93066V19.9126H15.9307V18.4126ZM1.68066 14.1626V6.1626H0.180664V14.1626H1.68066ZM5.93066 1.9126H7.88681V0.412598H5.93066V1.9126ZM9.71771 2.85481L10.423 3.84224L11.6436 2.97038L10.9383 1.98295L9.71771 2.85481ZM13.4745 5.4126H15.9307V3.9126H13.4745V5.4126ZM10.423 3.84224C11.1269 4.82773 12.2635 5.4126 13.4745 5.4126V3.9126C12.7479 3.9126 12.066 3.56167 11.6436 2.97038L10.423 3.84224ZM7.88681 1.9126C8.61345 1.9126 9.29536 2.26352 9.71771 2.85481L10.9383 1.98295C10.2344 0.997469 9.09788 0.412598 7.88681 0.412598V1.9126ZM5.93066 18.4126C3.58345 18.4126 1.68066 16.5098 1.68066 14.1626H0.180664C0.180664 17.3382 2.75503 19.9126 5.93066 19.9126V18.4126ZM20.1807 14.1626C20.1807 16.5098 18.2779 18.4126 15.9307 18.4126V19.9126C19.1063 19.9126 21.6807 17.3382 21.6807 14.1626H20.1807ZM21.6807 9.6626C21.6807 6.48696 19.1063 3.9126 15.9307 3.9126V5.4126C18.2779 5.4126 20.1807 7.31539 20.1807 9.6626H21.6807ZM1.68066 6.1626C1.68066 3.81539 3.58345 1.9126 5.93066 1.9126V0.412598C2.75503 0.412598 0.180664 2.98696 0.180664 6.1626H1.68066ZM9.93066 2.9126H15.4307V1.4126H9.93066V2.9126ZM15.4307 2.9126C17.5017 2.9126 19.1807 4.59153 19.1807 6.6626H20.6807C20.6807 3.7631 18.3302 1.4126 15.4307 1.4126V2.9126ZM10.9307 15.4126H16.9307V13.9126H10.9307V15.4126Z" fill="#2B3F6C"/>
</svg><div>目录</div></div>
        </div>
        <div class="infoGroup">
            <div class="infoContain" v-for="i in data.info" :key="i.label">
                <div class="infoLabel">{{ i.label }}</div>
                <div class="infoText">{{ i.text }}</div>
            </div>
        </div>
    </div>
  </div>
</template>

<script>
const delay = ms => new Promise((resolve, reject) => setTimeout(resolve, ms))

export default {
    props:["data"],
    data(){return {
        config:{
            normalHeight:280,
            extendHeight:480,
        },
        status:{
            isExtend : false,
            extending : false,
            isPlay : false
        }
    }},
    methods:{
        async extendFunc(){
            if(this.status.extending)return
            this.status.extending = true
            this.status.isExtend = !this.status.isExtend
            await delay(300)
            this.status.extending = false
        },
        Play(event){
            this.status.isPlay = true
            
        }
    }
}
</script>




<style lang="scss" scoped>
.card{
    background-color: #D9D9D9 ;
    border-radius: 30px;
    filter: drop-shadow(0px 4px 4px rgba(0, 0, 0, 0.25));
    transition:height 0.3s ease-in-out;

    .header{
        height: 200px;
        //background: url(https://s2.loli.net/2022/06/28/9bPWADTe3sg81dj.jpg);
        background-repeat: no-repeat;
        background-size: cover;
        border-radius: 30px 30px 0px 0px;

        .headerVideo{
            width: 100%;
            height: 200px;
            border-radius: 30px 30px 0px 0px;
        }
    }

    .footer{
        display: flex;
        flex-direction: row;
        align-items: center;
        flex-wrap: nowrap;
        align-content: center;
        justify-content: space-around;
        
        height: 80px;

        .introText{
            display: flex;
            flex-direction: column;
            align-items: flex-start;

            .title {
                font-size: 16px;
                line-height: 19px;
            }
            .text {
                font-size: 10px;
                line-height: 16px;
            }
        }

        .PlayButton {
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
            align-items: center;

            background: #007AFF;
            border-radius: 30px;
            height: 38px;
            width: 100px;

            div {
                font-size: 17px;
                line-height: 21px;
                text-align: center;
                color:white;
            }
        }
    }

    .extend {
        .tagGroup{
            display: flex;
            flex-direction: row;
            align-items: stretch;
            height: 30px;
            flex-wrap: nowrap;
            justify-content: space-evenly;
            height: 30px;
            
            div{
                display: flex;
                flex-direction: row;
            }
        }

        .infoGroup{
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            
            padding: 20px;


            .infoContain{
                display: flex;
                flex-direction: row;
                flex-wrap: nowrap;
                align-content: center;
                justify-content: space-between;
                align-items: stretch;
                width: 100%;

                .infoLabel{
                    font-weight: 700;
                    font-size: 12px;
                    line-height: 15px;
                    /* identical to box height */
                    display: flex;
                    align-items: center;
                    letter-spacing: -0.04em;
                }

                .infoText{
                    font-size: 12px;
                    line-height: 15px;
                    /* identical to box height */
                    display: flex;
                    align-items: center;
                    text-align: right;
                    
                }
            }
            
        }
    }
    
}
</style>

<!-- 
    img             200px

    text button     80px

    button bar      50px

    intro           150px


-->